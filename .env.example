# ============================================================================
# TRIBOS.STUDIO ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local for development
# Add these to Vercel environment variables for production
# ============================================================================

# ⚠️ CRITICAL SECURITY RULES:
# 1. NEVER use service_role key for VITE_SUPABASE_ANON_KEY (must be "anon" role)
# 2. NEVER add VITE_ prefix to secrets (service keys, client secrets, API keys)
# 3. Server-only keys should only be accessed via process.env in /api/ routes
# 4. Client-side keys (VITE_*) are visible in browser - only use public tokens

# ----------------------------------------------------------------------------
# FRONTEND (VITE_ prefix required for client-side access)
# ----------------------------------------------------------------------------

# Supabase Configuration (Client-side)
# In Supabase Dashboard > Settings > API:
# - Use "anon" public key → for VITE_SUPABASE_ANON_KEY (NOT service_role!)
# - JWT should have "role": "anon" when decoded
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Strava OAuth
VITE_STRAVA_CLIENT_ID=your-strava-client-id
VITE_STRAVA_REDIRECT_URI=http://localhost:3000/oauth/strava/callback

# Mapbox
VITE_MAPBOX_TOKEN=your-mapbox-token-here

# Stadia Maps (for bike-optimized routing with Valhalla)
# Free tier: 10,000 routes/month - https://stadiamaps.com/
VITE_STADIA_API_KEY=your-stadia-api-key-here
VITE_USE_STADIA_MAPS=true

# Sentry Error Tracking (optional)
# Create a project at https://sentry.io/ and get your DSN
VITE_SENTRY_DSN=
VITE_APP_VERSION=0.1.0

# ----------------------------------------------------------------------------
# BACKEND (Server-side only - DO NOT use VITE_ prefix)
# ----------------------------------------------------------------------------

# Supabase Service Key (server-side only - for /api/ routes)
# In Supabase Dashboard > Settings > API:
# - Use "service_role" secret key → for SUPABASE_SERVICE_KEY (server-only!)
# - JWT should have "role": "service_role" when decoded
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-key-here

# Strava OAuth Secret (server-side only)
STRAVA_CLIENT_ID=your-strava-client-id
STRAVA_CLIENT_SECRET=your-strava-client-secret
# Strava Webhook (for real-time activity sync)
# Generate any random string for verification token
# Register webhook at: https://developers.strava.com/docs/webhooks/
STRAVA_WEBHOOK_VERIFY_TOKEN=your-random-verify-token

# Anthropic API (for AI route generation)
ANTHROPIC_API_KEY=your-anthropic-api-key

# OpenWeatherMap API (for weather-aware route suggestions)
# Get a free API key at https://openweathermap.org/api
OPENWEATHER_API_KEY=your-openweather-api-key

# ----------------------------------------------------------------------------
# ADDITIONAL INTEGRATIONS
# ----------------------------------------------------------------------------

# Garmin Connect (OAuth 1.0a)
# To set up Garmin:
# 1. Register at https://developer.garmin.com/gc-developer-program/
# 2. Create an app to get Consumer Key and Secret
# 3. Set up callback URL to match GARMIN_CALLBACK_URL
# Server-side credentials:
# GARMIN_CONSUMER_KEY=your-garmin-consumer-key
# GARMIN_CONSUMER_SECRET=your-garmin-consumer-secret
# GARMIN_CALLBACK_URL=https://yourdomain.com/oauth/garmin/callback
# Frontend flag (enables Connect button in UI):
# VITE_GARMIN_CONSUMER_KEY=your-garmin-consumer-key

# Wahoo Fitness
# WAHOO_CLIENT_ID=your-wahoo-client-id
# WAHOO_CLIENT_SECRET=your-wahoo-client-secret
# VITE_WAHOO_CLIENT_ID=your-wahoo-client-id
# Wahoo Webhook (for real-time workout sync)
# Generate any random string, then register webhook URL with token:
# https://yourdomain.com/api/wahoo-webhook?token=YOUR_TOKEN
# WAHOO_WEBHOOK_TOKEN=your-random-webhook-token

# ----------------------------------------------------------------------------
# ENVIRONMENT
# ----------------------------------------------------------------------------
NODE_ENV=development
